class node_modules (
  $version,
  $packages,
) inherits n::defaults {
  include n

  exec { "use-node-${version}":
    command => "n ${version}",
    require => Class['n'],
  }

  package { $packages:
    provider => npm,
    require  => Exec["use-node-${version}"],
  }
}
